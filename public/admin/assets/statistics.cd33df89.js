var m=Object.defineProperty,_=Object.defineProperties;var h=Object.getOwnPropertyDescriptors;var u=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var p=(t,e,s)=>e in t?m(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,d=(t,e)=>{for(var s in e||(e={}))x.call(e,s)&&p(t,s,e[s]);if(u)for(var s of u(e))g.call(e,s)&&p(t,s,e[s]);return t},f=(t,e)=>_(t,h(e));import{u as y}from"./useECharts.c4ffd2c5.js";import{aY as v,d as b,s as w,r as A,az as I,e as B,x as C,w as k,g as N,n as S}from"./index.e68eab72.js";import"./index.esm.dae7b788.js";import"./useDesignSetting.b2231b13.js";function q(t){return v.request({url:"/master/analysis/statistics",method:"get",params:t})}const z={name:"DashboardStatistics"},O=b(f(d({},z),{setup(t){const e=w({legend:{},tooltip:{trigger:"axis",showContent:!0},dataset:{source:[]},xAxis:{type:"category"},yAxis:{gridIndex:0},grid:{top:"55%"},toolbox:{feature:{saveAsImage:{}}},series:[{type:"pie",id:"pie",radius:"30%",center:["50%","30%"],emphasis:{focus:"self"},label:{formatter:"{b}: {@2022} ({d}%)"},encode:{itemName:"date",value:1,tooltip:1}}]}),s={type:"line",smooth:!0,seriesLayoutBy:"row",emphasis:{focus:"series"}},r=A();return I(()=>{const{setOptions:i,getInstance:c}=y(r.value);i(e),c().on("updateAxisPointer",function(n){const a=n.axesInfo[0];if(a){const o=a.value+1;i({series:{id:"pie",label:{formatter:"{b}: {@["+o+"]} ({d}%)"},encode:{value:o,tooltip:o}}},!1)}}),q({days:10,count:10}).then(n=>{let a=[];for(let o=0;o<n.length-1;o++)a.push(s);i({dataset:{source:n},series:[...e.series,...a]},!1)})}),(i,c)=>{const l=S;return B(),C(l,{class:"py-12 overflow-auto",bordered:!1},{default:k(()=>[N("div",{class:"w-full",ref_key:"statistics",ref:r,style:{height:"150vh",minHeight:"1000px",minWidth:"1300px"}},null,512)]),_:1})}}}));export{O as default};
